<!DOCTYPE module SYSTEM "module.dtd">

<module name="horizon_detection" dir="competition/horizon_detection">
    <doc>
        <description>Horizon Detection</description>
       
        <define name="COMPETITION_CF_YMIN" value="100" />
        <define name="COMPETITION_CF_YMAX" value="150" />
        <define name="COMPETITION_CF_UMIN" value="0" />
        <define name="COMPETITION_CF_UMAX" value="100" />
        <define name="COMPETITION_CF_VMIN" value="110" />
        <define name="COMPETITION_CF_VMAX" value="170" />
    
    </doc>
    
    <settings>
        <dl_settings>
        <dl_settings NAME="FloorFilter">
            <dl_setting var="cf_ymin" min="0" step="1" max="255" shortname="y_min" />
            <dl_setting var="cf_ymax" min="0" step="1" max="255" shortname="y_max" />
            <dl_setting var="cf_umin" min="0" step="1" max="255" shortname="u_min" />
            <dl_setting var="cf_umax" min="0" step="1" max="255" shortname="u_max" />
            <dl_setting var="cf_vmin" min="0" step="1" max="255" shortname="v_min" />
            <dl_setting var="cf_vmax" min="0" step="1" max="255" shortname="v_max" />
            <dl_setting var="draw" min="0" step="1" max="1" shortname="draw" values="false|true" />
            </dl_settings>
        </dl_settings>
    </settings>
    
    <header>
        <file name="horizon_detection.h" />
    </header>
    <init fun="horizon_detection_init()" />
    <periodic fun="horizon_detection_loop()" freq="10"/>
    <makefile target="nps">
        <flag name="CXXFLAGS" value="std=c++17"/>
        <file name="horizon_detection_cxx.cpp" />
        <file name="horizon_detection.cpp" />
        <flag name="CXXFLAGS" value ="DCOMPETITION_CAMERA_FRONT=front_camera"/>
        <flag name="CXXFLAGS" value="I$(PAPARAZZI_HOME)/sw/ext/opencv_bebop/install_pc/include" />
        <flag name="LDFLAGS" value="L$(PAPARAZZI_HOME)/sw/ext/opencv_bebop/install_pc/lib" />
        <flag name="LDFLAGS" value="lopencv_world" />
        <flag name="LDFLAGS" value="L$(PAPARAZZI_HOME)/sw/ext/opencv_bebop/install_pc/share/OpenCV/3rdparty/lib" />
        <flag name="LDFLAGS" value="llibprotobuf" />
        <flag name="LDFLAGS" value="lquirc" />
        <flag name="LDFLAGS" value="L/usr/lib/x86_64-linux-gnu" />
        <flag name="LDFLAGS" value="ljpeg" />
        <flag name="LDFLAGS" value="lpng" />
        <flag name="LDFLAGS" value="ltiff" />
        <flag name="LDFLAGS" value="lz" />
        <flag name="LDFLAGS" value="ldl" />
        <flag name="LDFLAGS" value="lm" />
        <flag name="LDFLAGS" value="lpthread" />
        <flag name="LDFLAGS" value="lrt" />
    </makefile>
</module>
